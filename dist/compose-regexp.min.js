/**@license MIT-compose-regexp.js-©Pierre-Yves Gérardy*/
!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define("compose-regexp",["exports"],n):n(e.composeRegexp={})}(this,function(e){"use strict";function n(e){return e instanceof RegExp?e.source:(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function t(e){if(-1===e.indexOf("|"))return!1;var n,t=0,r=!1;for(w.lastIndex=0;n=w.exec(e);)if(null==n[1]&&(r||"("!==n[0]||t++,r||")"!==n[0]||t--,r||"["!==n[0]&&"[-"!==n[0]||(r=!0),r&&"]"===n[0]&&(r=!1),0===t&&!r&&"|"===n[0]))return!0;return!1}function r(e){if("("!==e.charAt(0)||")"!==e.charAt(e.length-1))return!1;var n,t=0,r=!1;for(w.lastIndex=0;n=w.exec(e);)if(null==n[1]){if(r||"("!==n[0]||t++,!r&&")"===n[0]&&0===--t&&n.index!==e.length-1)return!1;r||"["!==n[0]&&"[-"!==n||(r=!0),r&&"]"===n[0]&&(r=!1)}else if(n.index===e.length-2)return!1;return!0}function u(e){return e=n(e),t(e)?"(?:"+e+")":e}function l(e){return 1===e.length||/^\\[^]$|^\[(?:\\[^]|[^\]])*\]$/.test(e)||r(e)}function i(){return arguments.length?new RegExp(E.call(arguments,n).join("|")):d}function o(){return 0===arguments.length?"":1===arguments.length?n(arguments[0]):E.call(arguments,u).join("")}function f(){return new RegExp(o.apply(null,arguments))}function p(e){if(1===arguments.length)return d;var n=y.apply(o,arguments);return new RegExp(l(n)?n+e:"(?:"+n+")"+e)}function c(e){if(!R.test(e))throw new Error("Invalid suffix '"+e+"'.");return 1===arguments.length?p.bind(null,e):p.apply(null,arguments)}function a(e){return new RegExp("\\"+e)}function g(){return arguments.length?new RegExp("(?="+o.apply(null,arguments)+")"):d}function s(){return arguments.length?new RegExp("(?!"+o.apply(null,arguments)+")"):d}function x(e){return new RegExp(y.apply(o,arguments),e)}function h(){return arguments.length?new RegExp("("+o.apply(null,arguments)+")"):new RegExp("()")}var d=new RegExp(""),w=/(\\[^])|\[\-|[-()|\[\]]/g,E=[].map,R=f(/^/,i("+","*","?",/\{\s*\d+(?:\s*,\s*)?\d*\s*\}/),/\??$/),y=p.call;e.hasTopLevelChoice=t,e.isOneGroup=r,e.either=i,e.sequence=f,e.suffix=c,e.ref=a,e.lookAhead=g,e.avoid=s,e.flags=x,e.capture=h});
