/**@license MIT-compose-regexp.js-©Pierre-Yves Gérardy*/
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("compose-regexp",["exports"],e):e(n.composeRegexp={})}(this,function(n){"use strict";function e(n,e){return Object.assign(n,e)}function t(n,e){return Object.keys(n).forEach(function(t){e[t]||delete n[t]}),n}function r(n){return null==n?{}:n.split("").reduce(function(n,e){return n[e]=!0,n},{})}function u(n,e,t){return Object.keys(n(r(e),r(t))).join("")}function l(){Object.keys(m.call(arguments,function(n){return r(n.flags)}).reduce(t,"")).join("")}function i(n){return n instanceof RegExp?n.source:(n+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function o(n){if(-1===n.indexOf("|"))return!1;var e,t=0,r=!1;for(O.lastIndex=0;e=O.exec(n);)if(null==e[1]&&(r||"("!==e[0]||t++,r||")"!==e[0]||t--,r||"["!==e[0]&&"[-"!==e[0]||(r=!0),r&&"]"===e[0]&&(r=!1),0===t&&!r&&"|"===e[0]))return!0;return!1}function f(n){if("("!==n.charAt(0)||")"!==n.charAt(n.length-1))return!1;var e,t=0,r=!1;for(O.lastIndex=0;e=O.exec(n);)if(null==e[1]){if(r||"("!==e[0]||t++,!r&&")"===e[0]&&0===--t&&e.index!==n.length-1)return!1;r||"["!==e[0]&&"[-"!==e||(r=!0),r&&"]"===e[0]&&(r=!1)}else if(e.index===n.length-2)return!1;return!0}function c(n){return n=i(n),o(n)?"(?:"+n+")":n}function p(n){return 1===n.length||/^\\[^]$|^\[(?:\\[^]|[^\]])*\]$/.test(n)||f(n)}function a(){return arguments.length?new RegExp(m.call(arguments,i).join("|")):v}function s(){return 0===arguments.length?"":1===arguments.length?i(arguments[0]):m.call(arguments,c).join("")}function g(){return new RegExp(s.apply(null,arguments))}function x(n){if(1===arguments.length)return v;var e=b(s,arguments);return new RegExp(p(e)?e+n:"(?:"+e+")"+n)}function d(n){if(!$.test(n))throw new Error("Invalid suffix '"+n+"'.");return 1===arguments.length?x.bind(null,n):x.apply(null,arguments)}function h(n){return new RegExp("\\"+n)}function y(){return arguments.length?new RegExp("(?="+s.apply(null,arguments)+")"):v}function E(){return arguments.length?new RegExp("(?!"+s.apply(null,arguments)+")"):v}function w(n){return new RegExp(b(s,arguments),u(e,b(l,arguments),n))}function R(n){return 1===arguments.length?w.bind(null,n):w.apply(null,arguments)}function j(){return new RegExp("("+s.apply(null,arguments)+")")}var b=x.call.apply.bind(x.call),v=new RegExp(""),O=/(\\[^])|\[\-|[-()|\[\]]/g,m=[].map,$=g(/^/,a("+","*","?",/\{\s*\d+(?:\s*,\s*)?\d*\s*\}/),/\??$/);n.hasTopLevelChoice=o,n.isOneGroup=f,n.either=a,n.sequence=g,n.suffix=d,n.ref=h,n.lookAhead=y,n.avoid=E,n.flags=R,n.capture=j});
