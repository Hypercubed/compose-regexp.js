/**@license MIT-compose-regexp.js-©Pierre-Yves Gérardy*/
!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define("compose-regexp",["exports"],e):e(n.composeRegexp={})}(this,function(n){"use strict";function e(n){return n instanceof RegExp?n.source:(n+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function t(n){if(-1===n.indexOf("|"))return!1;var e,t=0,r=!1;for(w.lastIndex=0;e=w.exec(n);)if(null==e[1]&&(r||"("!==e[0]||t++,r||")"!==e[0]||t--,r||"["!==e[0]&&"[-"!==e[0]||(r=!0),r&&"]"===e[0]&&(r=!1),0===t&&!r&&"|"===e[0]))return!0;return!1}function r(n){if("("!==n.charAt(0)||")"!==n.charAt(n.length-1))return!1;var e,t=0,r=!1;for(w.lastIndex=0;e=w.exec(n);)if(null==e[1]){if(r||"("!==e[0]||t++,!r&&")"===e[0]&&0===--t&&e.index!==n.length-1)return!1;r||"["!==e[0]&&"[-"!==e||(r=!0),r&&"]"===e[0]&&(r=!1)}else if(e.index===n.length-2)return!1;return!0}function u(n){return n=e(n),t(n)?"(?:"+n+")":n}function l(n){return 1===n.length||/^\\[^]$|^\[(?:\\[^]|[^\]])*\]$/.test(n)||r(n)}function i(){return arguments.length?new RegExp(E.call(arguments,e).join("|")):d}function o(){return 0===arguments.length?"":1===arguments.length?e(arguments[0]):E.call(arguments,u).join("")}function f(){return new RegExp(o.apply(null,arguments))}function p(n){if(1===arguments.length)return d;var e=y.apply(o,arguments);return new RegExp(l(e)?e+n:"(?:"+e+")"+n)}function c(n){if(!R.test(n))throw new Error("Invalid suffix '"+n+"'.");return 1===arguments.length?p.bind(null,n):p.apply(null,arguments)}function g(n){return new RegExp("\\"+n)}function a(){return arguments.length?new RegExp("(?="+o.apply(null,arguments)+")"):d}function s(){return arguments.length?new RegExp("(?!"+o.apply(null,arguments)+")"):d}function x(n){return console.log(n,arguments.length),1===arguments.length?x.bind(null,n):new RegExp(y.apply(o,arguments),n)}function h(){return arguments.length?new RegExp("("+o.apply(null,arguments)+")"):new RegExp("()")}var d=new RegExp(""),w=/(\\[^])|\[\-|[-()|\[\]]/g,E=[].map,R=f(/^/,i("+","*","?",/\{\s*\d+(?:\s*,\s*)?\d*\s*\}/),/\??$/),y=p.call;n.hasTopLevelChoice=t,n.isOneGroup=r,n.either=i,n.sequence=f,n.suffix=c,n.ref=g,n.lookAhead=a,n.avoid=s,n.flags=x,n.capture=h});
